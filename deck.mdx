import { future, highlight } from "@mdx-deck/themes"

export const theme = {
  ...future,
  ...highlight
}

# Hello

<Notes>

- Krutarth Introduction
- Team, Frontend Platform

</Notes>

---

## Overview

- History
- Evolution
- What? 
- Why?
- How? 
- Learnings

---

## History

<Notes>

- Websites for the Internet
- WWW got invented in 1989
- First Website in 1991
- Static Pages or Web Applications
- Either Give information to user or let user do something on your Web i.e. Submit some data, compute something, get updated info, contextual info for the user
- Web App
- User data stored in Database
- User needs some GUI to interact with the data and update the data - Frontend
- Functions which update this data - Backend Servers

</Notes>

---

## Web Development Stack

- HTML
- CSS
- JavaScript
- Database
- Backend Server
- Hosting

<Notes>

- HTML: instructs the browser on how to display the underlying content. It forms the basic building block of a website.
- CSS: provides styles to format the HTML components on the browser. CSS determines the fonts, size, colors, and other static elements of the frontend.
- JavsScript: a programming language that turns HTML components into dynamic objects. It brings interactiveness to the front end.
- Databases: User information, transactions, products, and other data are stored in a database.
- Backend Server: Data access layer which talks with Client Side
- Hosting: A service that enables Web Apps to be published on the internet

- How to scale to 10M users?
- Issues with plain HTML CSS JS, Imperative
- How to update the UI without reloading the entire page
- No opinions on doing something a certain way

</Notes>

---

## Evolution

...

- Frontend UI Frameworks
- Cloud
- CI/CD
- Infrastructure

<Notes>

- Transit to React and History

</Notes>

---

## React

- A JS library for building UI
- Declarative
- Component-Based
- Learn Once, Write Anywhere

<Notes>

- React makes it painless to create interactive UIs. Design simple views for each state in your application, and React will efficiently update and render just the right components when your data changes.
- Declarative views make your code more predictable and easier to debug.
- Build encapsulated components that manage their own state, then compose them to make complex UIs.
- Since component logic is written in JavaScript instead of templates, you can easily pass rich data through your app and keep state out of the DOM.
- Develop new features in React without rewriting existing code.
- React can also render on the server using Node and power mobile apps using React Native.

</Notes>

---

## History & Timeline

- 2011 – An early prototype of React
- 2012 – Something new had started at Facebook
- 2013 – React gets open sourced
- 2014 – Expansion
- 2015 – React is Stable
- 2016 – React gets mainstream
- 2016 - Release of React Native for Android

<Notes>

- Jordan Walke created FaxJS, the early prototype of React – shipped a search element on Facebook.
- Facebook Ads became hard to manage, so Facebook needed to come up with a good solution for it. Jordan Walke worked on the prototype and created React.
- Instagram wanted to adopt Facebook’s new technology.
 By this, Facebook had a pressure to decouple React from Facebook and make it open-sourceable. Most of this was done by Pete Hunt.
- 2013 React gets open sourced
- Community 2014
- 2015 Flipboard, AirBnB, Facebook

- The UX on Websites is not that good on Mobile phones
- Transit to Mobile Apps

</Notes>

---

## Mobile Apps

<Notes>

- Apple Launched First iPhone in 2007
- AppStore launched in 2008
- Superior Experience than Web Apps

</Notes>

---

### Pros

- Faster than web apps
- Access to Native System Resources (CPU, GPU)
- Can work offline
- Safe and Secure
- Great UX

<Notes>

- Reliable and Stable
- UI is downloaded already and available on Native side

</Notes>

---

### Cons

- More Expensive to build
- App Updates
- App Size
- Time to deliver (PS + AS)

<Notes>

- All the users want latest versions of the features
- Users don't like to update the App 
- Users hate Force updates
- OTA updates result in double updates (OTA + PlayStore)
- A/B Experiments should be easy to carry out
- To Reduce App Size and always keep it under 30 MB
- Eliminate the time taken in the App release cycle
- UX and Security of App should not be compromised

</Notes>

---

## Solution

- Hybrid App

<Notes>

- No one size fits all solution existing
- Mobile Apps and Web Apps has their Pros and Cons

</Notes>

---

### What is a Hybrid App? 

1. Native Mobile App
2. WebView
3. Web for App

---

## Web for App

<Notes>

- When your page is dynamic in nature, needs alot of releases and updates
- A Web Application created to be consumed from your Mobile App
- Shell is Mobile App
- Web App gets rendered inside the WebView
- Who all uses it?
- Swiggy Instamart and Genie, Amazon Entire App, Alot of other Apps
- What are the key points taken into consideration of making a final decision of the Web Platform tech stack which will be used and consumed in the Mobile Apps to achieve the following goals.
- So far we learnt Web Development, History, React, Mobile Apps, Hybrid Apps

</Notes>

---

## What's Faster?

Request -> NodeJS Server -> API Call -> HTML -> Response -> Render

or

Request -> NodeJS Server -> Empty HTML+JS Bundles -> Execute JS Bundle ->  API Call -> Parse -> Render in JS

<Notes>

What's Server Side Rendering?
What's Client Side Rendering?

</Notes>

---

## CSR

- User makes request to the Webpage
- Server sends JS bundle to browser
- Browser downloads the JS
- Browser executes the JS
- APIs are called for Data, User sees placeholders
- Data fills the placeholders and paints HTML
- Page is now viewable and interactable

<Notes>

- Corporate Social Responsibility Joke

</Notes>

---

## Pros and Cons

- Cheap and easy to host

- HTML is prepared on client
- Poor User Experience on Slower devices
- Heavier initial page load due to loading of the framework, app code, and assets

---

## SSR

- Server Side Rendering

- User makes request to the Webpage
- Server calls other APIs and fetches the data 
- Server prepares the HTML from data
- Server sends the Ready to be rendered HTML over the wire
- Browser renders the page, Now Viewable
- Browser downloads the JS
- Browser executes JS
- Page is now interactable

<Notes>

- Sushant Singh Rajput Joke

</Notes>

---

## Pros and Cons

- HTML is prepared on the Server
- Faster initial page load time
- Optimal for users with a slow internet connection
- Good UX

- Expensive to host

---

## Tech Stack Expectations

- Reliability
- Performant
- Server Driven
- Statically Typed
- Familiar with the Developers
- Abstractions
- Third Party SDK integrations
- Community Support

<Notes>

- Proven Reliability earlier in the industry
- Statically Typed (Preferably ReactJS+TypeScript based)
- Server Driven
- Abstractions to help developers achieve goals in a defined way
- Third-party SDK integrations should be easy to integrate, maintain
- Great Community Support

</Notes>

---

## Current Solution

- Native Frameworks to stay (React Native)

- When to build features in Mobile Native Framework
- When to build features in Web Framework
- Ecosystem Validity

<Notes>

- Mobile
  - Features that deals with Native Integrations will be Native and require App Updates (Bank SDKs like Federal, CreditVidya, BureauID, UPI, Payments, device-binding)
  - Features that need Native resources will be Native like SMS Parsing and Share Functionality
  - Camera, Audio, Video
- Web
  - Home Screen of Jupiter
  - CVPs, Banners
  - Money Tab
- Dynamic in nature

</Notes>

---

## Candidates

#### HotWired Turbo + AdonisJS

#### NextJS

#### Remix

---

## HotWired Turbo + AdonisJS

Hotwire is an alternative approach to building modern web applications without using much JavaScript
Hotwire - HTML over the wire

- Inspired from Ruby on Rails
- Developed by BaseCamp Team for Hey Product

---

## Pros

- Fast page loads, Less JS, HTML over the Wire
- Template rendering on the Server

---

## Cons

- No Support for Caching the Screens
- Difficulty in Hiring
- Framework Learning Curve
- No Framework adoption
- No Community Support

<Notes>

- Most of the Web App Engineers - ReactJS background
- Unfamiliarity with AdonisJS, .edge files, syntax
- Hard to enforce best practices
- People might lose interest in the Tech Stack after a period of time
- The developers will not be flexible enough to move around projects
- No other FinTech / ECommerce / Tech companies have adopted this framework
- Basecamp and Hey by Basecamp found this solution which worked for them but there hasn’t been a community around this framework

</Notes>

---

## NextJS

React, But on the Server

---

## Pros

- Used pan-industry

- Detailed in-depth documentation
- Little to no learning curve for ReactJS developers
- Code Splitting and Code Bundling

---

## Cons

- Higher JS payloads size
- Complicated strategies to make Websites fast (SSG+SSR+ISR) + Code Splitting

---

## Remix

- A full-stack web framework

- Lets you focus on the user interface and work back through web fundamentals
- Fast, slick, and resilient user experience

<Notes>

- Remix is an attempt to prove AGAINST the overall consensus around ReactJS based frameworks
- in the industry is that one has to either sacrifice ReactJS for lighting fast, accessible UI.

</Notes>

---

## Pros

- SSR
- Built by folks who made React Router, Mobx (Ryan Florence, Kent C Dodds)
- Built on the same philosophy of HTML over the Wire
- Detailed in-depth documentation
- Little to no learning curve for ReactJS developers
- Custom Error Boundaries
- Pre-fetch Routing

<Notes>

- Most web apps fetch inside of components, creating request waterfalls, slower loads, and jank
- Remix loads data in parallel on the server and sends a fully formed HTML document. Way faster, jank-free
- Remix gives built-in Error handling, Web Apps don’t need to be refreshed when running into problems
- Remix can prefetch everything in parallel before the user clicks a link.
  Caches the Screens
  Prefetches the links

</Notes>

---

## Cons

- Latest framework in the industry, pretty new

<Notes>

- Can bet on this framework considering the adoption and hype in the community and also the creators behind it
- Talk about Remix vs NextJS comparision and overall JS Chunks

</Notes>

---

### Current State

<Notes>

- Home page on HotWired Turbo and AdonisJS
- Money Tab Developed in Remix

</Notes>

---

### Challenges of Hybrid App

- Auth
- Headers
- WebView
- Chatty Communication Bridge

<Notes>

- Talk about Device binding, Mpin/ BioMetrics
- Without Headers, Standalone Web App doesnt work
- Chatty communication Bridge , onMessage and postMessage

</Notes>

---

## Let me ask again, What's Faster?

Mobile -> API call -> Response -> Render

or

Mobile -> WebView -> Node Server -> Backend Server -> Data -> HTML -> Response -> Render in WebView

---

## Learnings

<Notes>

- Talk about Hardware Acceleration, CPU and GPU, System Resources
- Native Apps work Offline
- Talk about Main User Jorneys, Take Swiggy Instamart and Help Example
- Don't compromise UX with Agility
- Page Load times
- HTML over the wire, but takes time in rendering in User WebView
- Users are on Different WebView versions and patchy Internet
- Can't adhere great p90 and p95s

</Notes>

---

## Takeaways

<Notes>

- When to use Web App - Secondary User Jorneys
- Primary User journeys like Home/ Lobby, Payments Experience, Keep as Native as possible

</Notes>

---

## Fin.
